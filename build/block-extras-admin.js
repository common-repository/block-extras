jQuery(document).ready(function($){var hash=window.location.hash.replace("#","");if(hash.length){blockExtrasSetTab(hash)}$(window).on("hashchange",function(e){var hash=window.location.hash.replace("#","");if(!hash.length)hash="all";blockExtrasSetTab(hash)});$("a.block-extras-help-icon").hover(function(e){var type=$(this).data("type"),position=$(this).position();if(typeof blockExtrasSettings.help[type]!="undefined"){$(".block-extras-help").removeClass("hidden").html('<span class="block-extras-help-arrow-border"></span><span class="block-extras-help-arrow"></span><div class="block-extras-help-body"><h4>'+blockExtrasSettings.help[type][0]+"</h4><p>"+blockExtrasSettings.help[type][1]+"</p></div>").css({top:position.top+20+"px",left:position.left-20+"px"})}},function(){$(".block-extras-help").addClass("hidden")});$(document).on("mouseout",".block-extras-help-icon",function(e){$(".block-extras-help").addClass("hidden")});$(document).on("change",".block-extras-group-element.all input",function(e){var val=parseFloat($(this).val());if(val>$(this).attr("max")){$(this).val($(this).attr("max"))}else if(val<$(this).attr("min")){$(this).val($(this).attr("min"))}if($(this).hasClass("min")&&val<$(this).attr("min")){$(this).val($(this).attr("min"))}else if($(this).hasClass("max")&&val>$(this).attr("max")){$(this).val($(this).attr("max"))}var $group=$(this).closest(".block-extras-group-element"),$min=$group.find("input.min"),$max=$group.find("input.max"),minVal=parseFloat($min.val()),maxVal=parseFloat($max.val()),element=blockExtrasSettings.editableTypes[$group.data("elementType")],step=element.step,stepUnit=element.stepUnit;if($(this).hasClass("min")&&minVal>=maxVal){maxVal=minVal+1;$max.val(maxVal)}if($(this).hasClass("max")&&maxVal<=minVal){minVal=maxVal-1;$min.val(minVal)}$group.find(".step-amount.min").html(minVal!=0?(Math.round(minVal*step*100)/100).toFixed(stepUnit?0:2)+(stepUnit?"px":"0"):"");$group.find(".step-amount.max").html(maxVal!=0?(Math.round(maxVal*step*100)/100).toFixed(stepUnit?0:2)+(stepUnit?"px":"0"):"");setSelects($group.data("elementType"))});$(document).on("change",".block-extras-group-element:not(.all) select.min, .block-extras-group-element:not(.all) select.max",function(e){var $group=$(this).closest(".block-extras-group-element"),$min=$group.find("select.min"),$max=$group.find("select.max"),minVal=parseFloat($min.val()),maxVal=parseFloat($max.val()),type=$group.data("elementType"),step=blockExtrasSettings.editableTypes[type].step,stepUnit=type=="lineHeight"?"":"px";if($(this).hasClass("min")&&minVal>=maxVal){maxVal=minVal+1;$max.val(maxVal)}if($(this).hasClass("max")&&maxVal<=minVal){minVal=maxVal-1;$min.val(minVal)}setSelect($group.find("select.default"),minVal,maxVal,step,stepUnit)});$(document).on("change",'.block-extras-group-element input[type="checkbox"]',function(e){var tab=$(this).closest(".block-extras-group"),inputs=$(this).closest(".block-extras-group-element").find("select"),totalSelected=tab.find('input[type="checkbox"]:checked').length,checked=$(this).is(":checked"),label;inputs.each(function(){label=$(this).closest("label");if(checked){label.find('input[type="hidden"]').remove()}else{label.append('<input type="hidden" name="'+$(this).attr("name")+'" value="'+$(this).val()+'" />')}});inputs.prop("disabled",!checked);$(this).closest(".block-extras-group-element").toggleClass("selected");$(".block-extras-tabs").find('a[data-group="'+tab.data("group")+'"] span').html(totalSelected)});function setSelect($el,min,max,step,stepUnit){var i,options="",currentVal=$el.val(),foundVal=false;min=parseFloat(min);max=parseFloat(max);step=parseFloat(step);if($el.hasClass("min"))max--;if($el.hasClass("max"))min++;for(i=min;i<=max;i++){if(i==currentVal)foundVal=true;options+='<option value="'+i+'"'+(i==currentVal?' selected="selected"':"")+">"+(i!=0?(Math.round(i*step*100)/100).toFixed(stepUnit?0:2)+stepUnit:"0")+"</option>"}$el.html(options);if(!foundVal){if($el.hasClass("min")){$el.val(min)}else if($el.hasClass("max")){$el.val(max)}else if($el.hasClass("default")){if(currentVal>max){$el.val(max)}else if(currentVal<min){$el.val(min)}}}}function setSelects(type){var $groups=$('.block-extras-group-element[data-element-type="'+type+'"]:not(.all)'),$allGroup=$('.block-extras-group-element.all[data-element-type="'+type+'"]'),$group,step=blockExtrasSettings.editableTypes[type].step,stepUnit=type=="lineHeight"?"":"px";$.each($groups,function(){$group=$(this);setSelect($group.find("select.min"),$allGroup.find("input.min").val(),$allGroup.find("input.max").val(),step,stepUnit);setSelect($group.find("select.max"),$allGroup.find("input.min").val(),$allGroup.find("input.max").val(),step,stepUnit);setSelect($group.find("select.default"),$allGroup.find("input.min").val(),$allGroup.find("input.max").val(),step,stepUnit)})}function blockExtrasSetTab(tab){var group=tab;if(group!="all")group="core/"+group.toLowerCase();$(".block-extras-tabs a").removeClass("selected");$('.block-extras-tabs a[data-group="'+group+'"]').addClass("selected");$(".block-extras-group").addClass("hidden");$('.block-extras-group[data-group="'+group+'"]').removeClass("hidden")}});